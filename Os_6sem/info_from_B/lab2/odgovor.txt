Так как lstat может работать  с относительным путем файла,
то мы каждый раз когда находим каталог переходим в него c помощу chdir
а это нужно из за того что readdir даёт нам просто имя файла
и что бы использовать lstat, нам надо находится в том же
каталоге где и сам файл иначе он нам будет выдавать ошибку
что такой файл не существует.

Chdir используется для того чтобы мы могли использовать short name.И благодаря
использованию short name уменьшается время работы lstat